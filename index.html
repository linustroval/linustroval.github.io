<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>David Ruiz Rodas - Reaction Path</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            --bg-dark: #02040a;       
            --card-bg: rgba(10, 15, 30, 0.7); /* Muy transparente para ver el 3D */
            --text-main: #f1f5f9;     
            --text-muted: #94a3b8;    
            --accent: #00f2ff; /* Cyan más eléctrico */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* EL LIENZO 3D FIJO AL FONDO */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Detrás del texto */
            background: radial-gradient(circle at center, #0b1021 0%, #000000 100%);
        }

        /* CONTENEDOR PRINCIPAL */
        .main-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
            /* Espacio extra arriba y abajo para el "viaje" */
            padding-top: 15vh;
            padding-bottom: 20vh;
        }

        /* HEADER */
        header {
            margin-bottom: 150px; /* Mucho espacio para ver la PES al principio */
            text-align: center;
        }

        h1 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 3.5rem;
            margin: 0;
            text-shadow: 0 0 25px rgba(0, 242, 255, 0.5);
            letter-spacing: -2px;
        }

        .role {
            color: var(--accent);
            font-family: 'JetBrains Mono';
            font-size: 1.2rem;
            margin-top: 10px;
            display: inline-block;
            background: rgba(0, 242, 255, 0.1);
            padding: 5px 15px;
            border-radius: 4px;
            border: 1px solid rgba(0, 242, 255, 0.3);
        }

        /* SECCIONES FLOTANTES */
        section {
            margin-bottom: 200px; /* Separación amplia para que haya "viaje" entre secciones */
            opacity: 0; /* Animación de entrada */
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h2 {
            font-family: 'JetBrains Mono', monospace;
            color: var(--accent);
            font-size: 2rem;
            margin-bottom: 30px;
            border-left: 4px solid var(--accent);
            padding-left: 20px;
        }

        /* TARJETAS DE CRISTAL */
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(5px); /* Desenfoque suave */
            border: 1px solid rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            margin-bottom: 20px;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .item-title { font-weight: 700; font-size: 1.2rem; color: #fff; }
        .item-place { color: var(--accent); font-family: 'JetBrains Mono'; font-size: 0.9rem;} 
        .item-date { color: var(--text-muted); font-size: 0.9rem; }

        /* SKILLS BARS & TAGS */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .skill-bar-container { margin-bottom: 15px; }
        .sb-info { display: flex; justify-content: space-between; font-family: 'JetBrains Mono'; font-size: 0.85rem; margin-bottom: 5px; }
        .sb-bg { background: rgba(255,255,255,0.1); height: 6px; border-radius: 3px; }
        .sb-fill { background: var(--accent); height: 100%; border-radius: 3px; width: 0; transition: width 1s ease; }

        .tags { list-style: none; padding: 0; display: flex; flex-wrap: wrap; gap: 10px; }
        .tags li {
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            background: rgba(0, 242, 255, 0.05);
        }

        /* FOOTER */
        footer {
            text-align: center;
            padding-bottom: 50px;
        }
        
        .profile-pic {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid var(--accent);
            object-fit: cover;
            margin-bottom: 20px;
        }

        .contact-btn {
            background: var(--accent);
            color: #000;
            font-weight: bold;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.1rem;
            transition: transform 0.2s;
            display: inline-block;
        }
        .contact-btn:hover { transform: scale(1.1); box-shadow: 0 0 30px var(--accent); }

        /* Social Links */
        .social-bar { margin-top: 20px; display: flex; justify-content: center; gap: 20px; }
        .social-link { color: var(--text-muted); text-decoration: none; font-family: 'JetBrains Mono'; font-size: 0.9rem; border-bottom: 1px solid transparent; transition: all 0.3s; }
        .social-link:hover { color: var(--accent); border-bottom-color: var(--accent); }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            section { margin-bottom: 100px; }
        }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div class="main-content">
        
        <header>
            <h1>David Ruiz Rodas</h1>
            <div class="role">~/Computational_Chemist</div>
            <p style="margin-top: 20px; font-style: italic; color: #aaa;">
                "Exploring the Potential Energy Surface of Science and Code."
            </p>
            <div class="social-bar">
                <a href="https://www.linkedin.com/in/david-ruiz-rodas-335914130/" target="_blank" class="social-link">LinkedIn</a>
                <a href="https://github.com/linustroval" target="_blank" class="social-link">GitHub</a>
            </div>
        </header>

        <section class="scroll-trigger">
            <h2>01. Reaction Coordinates (Education)</h2>
            <div class="glass-card">
                <div class="item-header">
                    <div>
                        <div class="item-title">MSc Theoretical Chemistry & Modeling</div>
                        <div class="item-place">Universidad Autónoma de Madrid</div>
                    </div>
                    <div class="item-date">2024 - Present</div>
                </div>
                <div>Status: Calculating...</div>
            </div>

            <div class="glass-card">
                <div class="item-header">
                    <div>
                        <div class="item-title">BSc in Chemistry</div>
                        <div class="item-place">Universidad Autónoma de Madrid</div>
                    </div>
                    <div class="item-date">2020 - 2024</div>
                </div>
                <div>Average Grade: 6.82 / 10 | 240 Credits</div>
            </div>
        </section>

        <section class="scroll-trigger">
            <h2>02. Interaction Energy (Experience)</h2>
            <div class="glass-card">
                <div class="item-header">
                    <div>
                        <div class="item-title">Undergraduate Researcher (TFG)</div>
                        <div class="item-place">IFF-CSIC</div>
                    </div>
                    <div class="item-date">2024</div>
                </div>
                <p>
                    Analyzed <strong>Noble Gas Spectroscopy</strong>. Developed kernel-based machine learned potentials and performed quantum computations.
                </p>
                <div style="margin-top: 15px; color: var(--accent); font-size: 0.9rem;">
                    Publications: "Spectroscopic characterization of proton-bound Kr2H+ molecule" (In Prep).
                </div>
            </div>
            
            <div class="glass-card">
                <div class="item-header">
                    <div>
                        <div class="item-title">STEM Private Tutor</div>
                        <div class="item-place">Freelance</div>
                    </div>
                    <div class="item-date">2020 - Present</div>
                </div>
            </div>
        </section>

        <section class="scroll-trigger">
            <h2>03. Basis Set (Skills)</h2>
            <div class="glass-card skills-grid">
                <div>
                    <h3 style="margin-top:0; color:#fff;">Code</h3>
                    <div class="skill-bar-container">
                        <div class="sb-info"><span>Fortran</span><span>4/5</span></div>
                        <div class="sb-bg"><div class="sb-fill" style="width: 80%"></div></div>
                    </div>
                    <div class="skill-bar-container">
                        <div class="sb-info"><span>Bash/Shell</span><span>4/5</span></div>
                        <div class="sb-bg"><div class="sb-fill" style="width: 80%"></div></div>
                    </div>
                    <div class="skill-bar-container">
                        <div class="sb-info"><span>Python</span><span>3/5</span></div>
                        <div class="sb-bg"><div class="sb-fill" style="width: 60%"></div></div>
                    </div>
                    <div class="skill-bar-container">
                        <div class="sb-info"><span>C</span><span>1/5</span></div>
                        <div class="sb-bg"><div class="sb-fill" style="width: 20%"></div></div>
                    </div>
                </div>

                <div>
                    <h3 style="margin-top:0; color:#fff;">Tools</h3>
                    <ul class="tags">
                        <li>Gaussian</li> <li>Orca</li> <li>Molpro</li>
                        <li>Spartan</li> <li>Molden</li> <li>Gnuplot</li>
                        <li>LaTeX</li> <li>Git</li>
                    </ul>
                    
                    <h3 style="margin-top:20px; color:#fff;">Languages</h3>
                    <ul class="tags">
                        <li>Spanish (Native)</li> <li>English (B2)</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="scroll-trigger">
            <h2>04. Data Input (Seminars)</h2>
            <div class="glass-card">
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 15px; border-bottom: 1px dashed #333; padding-bottom: 10px;">
                        <strong style="color: #fff;">Thesis Attendance (2024):</strong> "Big data in quantum astrochemistry" (UAM).
                    </li>
                    <li>
                        <strong style="color: #fff;">Seminar (2024):</strong> "Complex organic molecules in the interstellar medium" (IFF-CSIC).
                    </li>
                </ul>
            </div>
        </section>

        <footer class="scroll-trigger">
            <img src="profile.jpg" alt="David" class="profile-pic">
            <h2 style="border: none; margin-bottom: 10px; padding: 0;">Ready to Collaborate?</h2>
            <p style="color: var(--text-muted); margin-bottom: 30px;">Let's calculate the next big solution together.</p>
            <a href="mailto:rrodasdavid@gmail.com" class="contact-btn">Initialize Contact</a>
        </footer>
    </div>

    <script>
        // CONFIGURACIÓN INICIAL
        const scene = new THREE.Scene();
        // Niebla para que el fondo se difumine (profundidad)
        scene.fog = new THREE.FogExp2(0x02040a, 0.002);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // CREAR LA PES (SUPERFICIE)
        // Usamos PlaneGeometry con muchos segmentos para que se vea suave
        const geometry = new THREE.PlaneGeometry(200, 200, 60, 60);
        
        // Modificar los vértices para crear "montañas" (La PES)
        const count = geometry.attributes.position.count;
        const positions = geometry.attributes.position; // Array con las coordenadas x,y,z

        for (let i = 0; i < count; i++) {
            const x = positions.getX(i);
            const y = positions.getY(i);
            
            // Fórmula matemática para simular energía: mezcla de senos y cosenos
            // Esto crea los picos y valles
            const z = (Math.sin(x / 10) * Math.cos(y / 10) * 10) + (Math.sin(x / 20) * 5);
            
            positions.setZ(i, z);
        }
        
        geometry.computeVertexNormals();

        // Material estilo "Wireframe" (Malla de alambre) Cyberpunk
        const material = new THREE.MeshBasicMaterial({ 
            color: 0x00f2ff, 
            wireframe: true,
            transparent: true,
            opacity: 0.3
        });

        const plane = new THREE.Mesh(geometry, material);
        
        // Rotamos el plano para que parezca un suelo infinito
        plane.rotation.x = -Math.PI / 2; 
        scene.add(plane);

        // POSICIÓN INICIAL DE LA CÁMARA
        camera.position.set(0, 15, 60); // (x, altura, profundidad)
        camera.lookAt(0, 0, 0);

        // FUNCIÓN DE ANIMACIÓN (SCROLL)
        function moveCamera() {
            // Calculamos cuánto ha bajado el usuario en %
            const t = document.body.getBoundingClientRect().top;
            
            // Movemos la cámara hacia adelante a medida que baja el scroll
            // 't' es negativo cuando bajas, así que multiplicamos por un factor pequeño
            camera.position.z = 60 + (t * 0.1); 
            camera.position.y = 15 + (t * 0.02); // Baja un poco la cámara también
            
            // Rotación sutil para dar sensación de vuelo
            camera.rotation.z = t * 0.0002;
        }

        // BUCLE DE RENDERIZADO
        function animate() {
            requestAnimationFrame(animate);
            
            // Animación suave de las ondas (Vibración molecular)
            // Esto hace que la malla se mueva un poquito aunque no hagas scroll
            const time = Date.now() * 0.0005;
            const positions = geometry.attributes.position;
            
            // Movemos ligeramente solo algunos vértices para efecto "vivo"
            // (Nota: modificar vértices en tiempo real consume recursos, lo hacemos sutil)
            
            renderer.render(scene, camera);
        }

        // LISTENERS
        document.body.onscroll = moveCamera;
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Animación de aparición de secciones
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.scroll-trigger').forEach((el) => observer.observe(el));

        animate();
        moveCamera(); // Posición inicial

    </script>
</body>
</html>
